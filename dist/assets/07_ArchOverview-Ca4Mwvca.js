import{c as n,r as y,j as e,m as l,A as p}from"./index-DWdJOSNk.js";import{S as w}from"./SlideLayout-B4AzNINl.js";import{M as g,D as u,C as N,R as f}from"./reply-L-LDhB1p.js";import{S as j}from"./shield-check-DKLHX3Es.js";import{D}from"./database-BK32q_yi.js";import{G as A}from"./globe-Bufentkf.js";import{L as C}from"./layers-BVheApu9.js";import{H as M}from"./hard-drive-D4sNltqq.js";import{P as S}from"./package-8QA9cAuL.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=n("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=n("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=n("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=n("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=n("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=n("Satellite",[["path",{d:"M13 7 9 3 5 7l4 4",key:"vyckw6"}],["path",{d:"m17 11 4 4-4 4-4-4",key:"rchckc"}],["path",{d:"m8 12 4 4 6-6-4-4Z",key:"1sshf7"}],["path",{d:"m16 8 3-3",key:"x428zp"}],["path",{d:"M9 21a6 6 0 0 0-6-6",key:"1iajcf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=n("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=n("ShieldBan",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m4.243 5.21 14.39 12.472",key:"1c9a7c"}]]),x=[{num:1,title:"Client Request",desc:"User or app sends an HTTP request",icon:g,color:"text-cyan-400",bg:"bg-cyan-500/10",ring:"ring-cyan-500/20"},{num:2,title:"API Gateway",desc:"Routes, rate-limits, and validates the incoming request",icon:u,color:"text-blue-400",bg:"bg-blue-500/10",ring:"ring-blue-500/20"},{num:3,title:"Authentication",desc:"Verifies identity via tokens, API keys, or OAuth",icon:j,color:"text-amber-400",bg:"bg-amber-500/10",ring:"ring-amber-500/20"},{num:4,title:"Service Logic",desc:"Business rules execute and data is processed",icon:N,color:"text-violet-400",bg:"bg-violet-500/10",ring:"ring-violet-500/20"},{num:5,title:"Database",desc:"Reads or writes persistent data",icon:D,color:"text-emerald-400",bg:"bg-emerald-500/10",ring:"ring-emerald-500/20"},{num:6,title:"Response",desc:"Formatted result is returned to the client",icon:f,color:"text-pink-400",bg:"bg-pink-500/10",ring:"ring-pink-500/20"}],b=[{title:"Client",icon:g,color:"text-cyan-400",bg:"bg-cyan-500/10",border:"border-cyan-500/30"},{title:"DNS",icon:A,color:"text-blue-300",bg:"bg-blue-400/10",border:"border-blue-400/30"},{title:"CDN / Edge",icon:E,color:"text-indigo-400",bg:"bg-indigo-500/10",border:"border-indigo-500/30"},{title:"WAF / DDoS",icon:I,color:"text-red-400",bg:"bg-red-500/10",border:"border-red-500/30"},{title:"Load Balancer",icon:q,color:"text-orange-400",bg:"bg-orange-500/10",border:"border-orange-500/30"},{title:"API Gateway",icon:u,color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/30"},{title:"Authentication",icon:j,color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/30"},{title:"Authorization",icon:L,color:"text-yellow-400",bg:"bg-yellow-500/10",border:"border-yellow-500/30"},{title:"Validation / Middleware",icon:P,color:"text-teal-400",bg:"bg-teal-500/10",border:"border-teal-500/30"},{title:"Backend Logic",icon:R,color:"text-violet-400",bg:"bg-violet-500/10",border:"border-violet-500/30"},{title:"Cache / External Services / MQ",icon:C,color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/30"},{title:"Database / Storage",icon:M,color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/30"},{title:"Serialization / Compression",icon:S,color:"text-sky-400",bg:"bg-sky-500/10",border:"border-sky-500/30"},{title:"Response → Client",icon:f,color:"text-pink-400",bg:"bg-pink-500/10",border:"border-pink-500/30"}];function m({step:t,delay:s}){const r=t.icon;return e.jsxs(l.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.5,delay:s,ease:[.25,.46,.45,.94]},className:"glass relative flex flex-col items-center rounded-2xl px-4 py-5 text-center",style:{minWidth:0},children:[e.jsx("span",{className:`absolute -top-3 left-1/2 -translate-x-1/2 flex h-6 w-6 items-center justify-center rounded-full text-[11px] font-bold ${t.bg} ${t.color} ring-1 ${t.ring}`,children:t.num}),e.jsx("div",{className:`mb-2.5 flex h-11 w-11 items-center justify-center rounded-xl ${t.bg} ${t.color}`,children:e.jsx(r,{size:22})}),e.jsx("h3",{className:"mb-1 text-sm font-semibold text-white leading-tight",children:t.title}),e.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:t.desc})]})}function h({delay:t,direction:s="right"}){const r=s==="right";return e.jsx(l.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.3,delay:t},className:`flex items-center justify-center ${r?"":"py-1"}`,children:r?e.jsx(z,{size:20,className:"text-slate-600"}):e.jsx(v,{size:20,className:"text-slate-600"})})}function $({step:t,delay:s}){const r=t.icon;return e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3,delay:s,ease:[.25,.46,.45,.94]},className:`relative z-10 flex items-center gap-2 rounded-lg border ${t.border} bg-slate-900/70 backdrop-blur-sm px-3 py-1`,children:[e.jsx("div",{className:`flex h-4 w-4 shrink-0 items-center justify-center rounded ${t.bg}`,children:e.jsx(r,{size:11,className:t.color})}),e.jsx("span",{className:"text-[13px] font-medium text-white whitespace-nowrap",children:t.title})]})}function Z(){const[t,s]=y.useState(!1),r=.2,o=.15;return y.useEffect(()=>{const a=i=>{i.target.tagName==="INPUT"||i.target.tagName==="TEXTAREA"||((i.key==="ArrowRight"||i.key===" ")&&!t?(i.preventDefault(),i.stopPropagation(),s(!0)):i.key==="ArrowLeft"&&t&&(i.preventDefault(),i.stopPropagation(),s(!1)))};return window.addEventListener("keydown",a,!0),()=>window.removeEventListener("keydown",a,!0)},[t]),e.jsx(w,{children:e.jsxs("div",{className:"flex w-full max-w-5xl flex-col items-center",children:[e.jsxs(l.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-2 text-center",children:[e.jsx("span",{className:"mb-2 inline-block rounded-full bg-violet-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-violet-400",children:"Architecture"}),e.jsx("h2",{className:"text-4xl font-bold text-white md:text-5xl",children:"How It All Fits Together"})]}),e.jsx(p,{mode:"wait",children:e.jsx(l.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"mb-6 max-w-2xl text-center text-slate-400",children:t?"What the path actually looks like — many more layers than the simplified model.":"A request travels through six layers in sequence — each responsible for a critical piece of the puzzle."},t?"exp":"simple")}),e.jsx(p,{mode:"wait",children:t?e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2},className:"flex w-full justify-center",children:e.jsxs("div",{className:"relative flex flex-col items-center",children:[e.jsx(l.div,{initial:{scaleY:0},animate:{scaleY:1},transition:{duration:.8,delay:.1,ease:"easeOut"},className:"absolute left-1/2 top-2 bottom-2 w-px -translate-x-1/2 origin-top",style:{background:"linear-gradient(to bottom, rgba(34,211,238,0.25), rgba(99,102,241,0.25), rgba(139,92,246,0.25), rgba(236,72,153,0.25))"}}),b.map((a,i)=>e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx($,{step:a,delay:i*.06}),i<b.length-1&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.15,delay:i*.06+.03},className:"py-px",children:e.jsx(v,{size:10,className:"text-slate-600"})})]},i))]})},"expanded"):e.jsxs(l.div,{exit:{opacity:0,scale:.95},transition:{duration:.25},className:"w-full",children:[e.jsx("div",{className:"hidden w-full items-center justify-center lg:flex",children:x.map((a,i)=>{const c=r+i*o*2,d=c+o;return e.jsxs("div",{className:"flex items-center",style:{flex:"1 1 0"},children:[e.jsx("div",{className:"flex-1",children:e.jsx(m,{step:a,delay:c})}),i<x.length-1&&e.jsx("div",{className:"flex-shrink-0 px-1",children:e.jsx(h,{delay:d,direction:"right"})})]},a.num)})}),e.jsx("div",{className:"hidden w-full max-w-lg flex-col items-center gap-2 md:flex lg:hidden",children:[0,2,4].map(a=>{const i=x[a],c=x[a+1],d=r+a*o,k=a===4;return e.jsxs("div",{className:"w-full",children:[e.jsxs("div",{className:"grid w-full items-center gap-3",style:{gridTemplateColumns:"1fr auto 1fr"},children:[e.jsx(m,{step:i,delay:d}),e.jsx(h,{delay:d+o*.5,direction:"right"}),e.jsx(m,{step:c,delay:d+o})]}),!k&&e.jsx("div",{className:"flex justify-center py-1",children:e.jsx(h,{delay:d+o*1.5,direction:"down"})})]},a)})}),e.jsx("div",{className:"flex w-full max-w-xs flex-col items-center gap-2 md:hidden",children:x.map((a,i)=>{const c=r+i*o;return e.jsxs("div",{className:"flex w-full flex-col items-center",children:[e.jsx(m,{step:a,delay:c}),i<x.length-1&&e.jsx(h,{delay:c+o*.5,direction:"down"})]},a.num)})})]},"simple")}),e.jsx(p,{children:!t&&e.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:1.5},className:"mt-4 flex items-center gap-2 text-xs text-slate-600",children:["Press",e.jsx("kbd",{className:"rounded border border-slate-700 bg-slate-800 px-1.5 py-0.5 font-mono text-[10px] text-slate-400",children:"Space"}),"to reveal the real path"]})})]})})}export{Z as default};
