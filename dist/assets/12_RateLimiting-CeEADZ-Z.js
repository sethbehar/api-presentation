import{j as t,m as a,r}from"./index-DWdJOSNk.js";import{S as p}from"./SlideLayout-B4AzNINl.js";function h(){const[s,l]=r.useState([]),d=r.useRef(null);return r.useEffect(()=>{const e=[];return[{delay:400,method:"GET",path:"/api/users/1",status:200,time:"12ms"},{delay:700,method:"POST",path:"/api/orders",status:201,time:"45ms"},{delay:1e3,method:"GET",path:"/api/users/2",status:200,time:"9ms"},{delay:1300,method:"GET",path:"/api/products",status:200,time:"31ms"},{delay:1600,method:"POST",path:"/api/payments",status:201,time:"67ms"},{delay:1900,method:"GET",path:"/api/users/3",status:200,time:"11ms"},{delay:2200,method:"GET",path:"/api/orders/42",status:200,time:"18ms"},{delay:2500,method:"POST",path:"/api/orders",status:201,time:"52ms"},{delay:2800,method:"GET",path:"/api/products/7",status:200,time:"14ms"},{delay:3050,method:"GET",path:"/api/users/4",status:200,time:"8ms"},{delay:3250,method:"POST",path:"/api/payments",status:201,time:"71ms"},{delay:3450,method:"GET",path:"/api/orders/15",status:200,time:"10ms"},{delay:3650,method:"GET",path:"/api/products/3",status:200,time:"22ms"},{delay:3850,method:"POST",path:"/api/orders",status:201,time:"58ms"},{delay:4e3,method:"GET",path:"/api/users/5",status:200,time:"13ms"},{delay:4150,method:"GET",path:"/api/products",status:200,time:"29ms"},{delay:4300,method:"POST",path:"/api/payments",status:201,time:"63ms"},{delay:4450,method:"GET",path:"/api/orders/88",status:200,time:"16ms"},{delay:4550,method:"GET",path:"/api/users/6",status:200,time:"7ms"},{delay:4630,method:"POST",path:"/api/orders",status:201,time:"48ms"},{delay:4710,method:"GET",path:"/api/products/12",status:200,time:"11ms"},{delay:4780,method:"POST",path:"/api/payments",status:201,time:"55ms"},{delay:4840,method:"GET",path:"/api/users/7",status:200,time:"9ms"},{delay:4900,method:"GET",path:"/api/orders/99",status:200,time:"15ms"},{delay:4950,method:"POST",path:"/api/orders",status:201,time:"42ms"},{delay:5e3,method:"GET",path:"/api/products",status:200,time:"19ms"},{delay:5050,method:"GET",path:"/api/users/8",status:200,time:"6ms"},{delay:5100,method:"POST",path:"/api/payments",status:201,time:"61ms"},{delay:5140,method:"GET",path:"/api/users/9",status:200,time:"5ms"},{delay:5170,method:"POST",path:"/api/orders",status:201,time:"39ms"},{delay:5200,method:"GET",path:"/api/products/8",status:200,time:"8ms"},{delay:5230,method:"GET",path:"/api/users/10",status:200,time:"7ms"},{delay:5260,method:"POST",path:"/api/payments",status:201,time:"44ms"},{delay:5290,method:"GET",path:"/api/orders/101",status:200,time:"10ms"},{delay:5400,method:"GET",path:"/api/users/11",status:429,time:"--"},{delay:5520,method:"POST",path:"/api/orders",status:429,time:"--"},{delay:5640,method:"GET",path:"/api/products",status:429,time:"--"},{delay:5760,method:"POST",path:"/api/payments",status:429,time:"--"},{delay:5880,method:"GET",path:"/api/users/12",status:429,time:"--"},{delay:6e3,method:"GET",path:"/api/orders/55",status:429,time:"--"}].forEach((m,o)=>{e.push(setTimeout(()=>{l(n=>[...n,{...m,id:o}])},m.delay))}),e.push(setTimeout(()=>{l(m=>[...m,{id:"error",isError:!0}])},6400)),()=>e.forEach(clearTimeout)},[]),r.useEffect(()=>{d.current&&(d.current.scrollTop=d.current.scrollHeight)},[s]),t.jsxs(a.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"w-full max-w-2xl overflow-hidden rounded-xl",children:[t.jsxs("div",{className:"flex items-center gap-2 bg-slate-900/80 px-4 py-2 border-b border-slate-700/50",children:[t.jsxs("div",{className:"flex gap-1.5",children:[t.jsx("span",{className:"h-3 w-3 rounded-full bg-red-500/60"}),t.jsx("span",{className:"h-3 w-3 rounded-full bg-yellow-500/60"}),t.jsx("span",{className:"h-3 w-3 rounded-full bg-green-500/60"})]}),t.jsx("span",{className:"ml-2 text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Terminal â€” API Logs"})]}),t.jsxs("div",{ref:d,className:"bg-slate-950/80 p-4 h-72 overflow-y-auto font-mono text-xs leading-relaxed",children:[t.jsx(a.div,{initial:{opacity:0},animate:{opacity:1},className:"text-slate-600 mb-2",children:"$ curl -X GET https://api.example.com --flood"}),s.map(e=>{if(e.isError)return t.jsxs(a.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"mt-3 rounded-lg border border-red-500/30 bg-red-500/10 px-3 py-2",children:[t.jsx("div",{className:"text-red-400 font-bold mb-1",children:"Error: 429 Too Many Requests"}),t.jsxs("div",{className:"text-red-400/70",children:["{",' "error": "Rate limit exceeded. Try again in 60s.",']}),t.jsxs("div",{className:"text-red-400/70",children:["  ",'"limit": 100, "remaining": 0, "reset": 1739462460 ',"}"]}),t.jsx("div",{className:"text-slate-600 mt-1",children:"Retry-After: 60"}),t.jsx("div",{className:"text-slate-600",children:"X-RateLimit-Limit: 100"}),t.jsx("div",{className:"text-slate-600",children:"X-RateLimit-Remaining: 0"})]},"error");const i=e.status===429;return t.jsxs(a.div,{initial:{opacity:0,x:-8},animate:{opacity:1,x:0},transition:{duration:.15},className:`flex gap-2 ${i?"text-red-400":"text-slate-400"}`,children:[t.jsx("span",{className:`shrink-0 ${e.method==="GET"?i?"text-red-400":"text-emerald-400":i?"text-red-400":"text-blue-400"}`,children:e.method.padEnd(4)}),t.jsx("span",{className:`flex-1 ${i?"text-red-400/70":"text-slate-500"}`,children:e.path}),t.jsx("span",{className:`shrink-0 font-bold ${i?"text-red-400":e.status===201?"text-blue-400":"text-emerald-400"}`,children:e.status}),t.jsx("span",{className:"shrink-0 w-12 text-right text-slate-600",children:e.time})]},e.id)}),s.length>0&&!s.find(e=>e.isError)&&t.jsx("span",{className:"inline-block w-2 h-3.5 bg-slate-500 animate-pulse mt-1"})]})]})}const c=[{name:"Token Bucket",desc:"Tokens refill at a fixed rate; each request consumes a token",color:"bg-amber-400"},{name:"Sliding Window",desc:"Tracks requests in a rolling time window",color:"bg-blue-400"},{name:"Fixed Window",desc:"Counts requests per fixed time interval",color:"bg-emerald-400"}];function y(){return t.jsx(p,{children:t.jsxs("div",{className:"flex w-full max-w-5xl flex-col items-center text-center",children:[t.jsx(a.span,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-4 inline-block rounded-full bg-amber-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-amber-400",children:"Performance"}),t.jsx(a.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05},className:"mb-4 text-4xl font-bold text-white md:text-5xl",children:"Rate Limiting & Quotas"}),t.jsxs(a.p,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},className:"mb-6 max-w-xl text-slate-400",children:["Protect your API from abuse. When a client exceeds the allowed request rate, the server responds with ",t.jsx("span",{className:"font-mono font-semibold text-red-400",children:"429 Too Many Requests"}),"."]}),t.jsx(h,{}),t.jsx(a.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{delay:7},className:"mt-6 flex flex-wrap justify-center gap-3",children:c.map(s=>t.jsxs("div",{className:"glass flex items-center gap-2 rounded-lg px-3 py-2",children:[t.jsx("span",{className:`h-2.5 w-2.5 shrink-0 rounded-full ${s.color}`}),t.jsxs("div",{className:"text-left",children:[t.jsx("div",{className:"text-xs font-semibold text-white",children:s.name}),t.jsx("div",{className:"text-[10px] text-slate-500",children:s.desc})]})]},s.name))})]})})}export{y as default};
