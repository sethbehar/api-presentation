import{c as r,r as n,j as e,m as i,A as l,R as j}from"./index-DWdJOSNk.js";import{S as k}from"./SlideLayout-B4AzNINl.js";import{A as c}from"./arrow-right-D79vkPgs.js";import{S as v}from"./shield-zUJGDQ1S.js";import{S as N}from"./shield-check-DKLHX3Es.js";import{H as w}from"./hard-drive-D4sNltqq.js";import{Z as S}from"./zap-BkmlLE8W.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=r("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=r("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=r("ServerCog",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M4.5 10H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v4a2 2 0 0 1-2 2h-.5",key:"tn8das"}],["path",{d:"M4.5 14H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2h-.5",key:"1g2pve"}],["path",{d:"M6 6h.01",key:"1utrut"}],["path",{d:"M6 18h.01",key:"uhywen"}],["path",{d:"m15.7 13.4-.9-.3",key:"1jwmzr"}],["path",{d:"m9.2 10.9-.9-.3",key:"qapnim"}],["path",{d:"m10.6 15.7.3-.9",key:"quwk0k"}],["path",{d:"m13.6 15.7-.4-1",key:"cb9xp7"}],["path",{d:"m10.8 9.3-.4-1",key:"1uaiz5"}],["path",{d:"m8.3 13.6 1-.4",key:"s6srou"}],["path",{d:"m14.7 10.8 1-.4",key:"4d31cq"}],["path",{d:"m13.4 8.3-.3.9",key:"1bm987"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=r("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]),x=[{num:1,title:"Client App",icon:e.jsx(M,{size:16}),color:"text-sky-400",border:"border-sky-500/30",bg:"bg-sky-500/10",items:["Mobile app, SPA, or external service sends an HTTP request"]},{num:2,title:"Azure API Management",icon:e.jsx(v,{size:16}),color:"text-indigo-400",border:"border-indigo-500/30",bg:"bg-indigo-500/10",items:["Single entry point for all API traffic"],accent:!0},{num:3,title:"Inbound Policies",icon:e.jsx(N,{size:16}),color:"text-amber-400",border:"border-amber-500/30",bg:"bg-amber-500/10",items:["Rate Limiting & Quotas","OAuth 2.0 / JWT Validation","Request Transformation"],indent:!0},{num:4,title:"Cache Check",icon:e.jsx(w,{size:16}),color:"text-emerald-400",border:"border-emerald-500/30",bg:"bg-emerald-500/10",items:null,cacheStep:!0,indent:!0},{num:5,title:"Route to Backend",icon:e.jsx(C,{size:16}),color:"text-cyan-400",border:"border-cyan-500/30",bg:"bg-cyan-500/10",items:null,backendStep:!0,indent:!0},{num:6,title:"Outbound Policies",icon:e.jsx(j,{size:16}),color:"text-violet-400",border:"border-violet-500/30",bg:"bg-violet-500/10",items:["Response Transformation","Store Response in Cache"],indent:!0},{num:7,title:"Return Response to Client",icon:e.jsx(S,{size:16}),color:"text-sky-400",border:"border-sky-500/30",bg:"bg-sky-500/10",items:["Compressed, transformed response delivered back to caller"]}],d=x.length+1;function D(){const[s,m]=n.useState(0),o=s>=d,p=n.useCallback(()=>{m(t=>Math.min(t+1,d))},[]),h=n.useCallback(()=>{m(t=>Math.max(t-1,0))},[]);n.useEffect(()=>{const t=a=>{a.target.tagName==="INPUT"||a.target.tagName==="TEXTAREA"||((a.key==="ArrowRight"||a.key===" ")&&!o?(a.preventDefault(),a.stopPropagation(),p()):a.key==="ArrowLeft"&&s>0&&(a.preventDefault(),a.stopPropagation(),h()))};return window.addEventListener("keydown",t,!0),()=>window.removeEventListener("keydown",t,!0)},[s,o,p,h]);const u=s>=d;return e.jsx(k,{className:"!py-10",children:e.jsxs("div",{className:"flex w-full max-w-5xl flex-col items-center",children:[e.jsx(i.span,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"mb-3 inline-block rounded-full bg-indigo-500/10 px-3 py-1 text-xs font-semibold uppercase tracking-wider text-indigo-400",children:"Real-World Example"}),e.jsx(i.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05},className:"mb-6 text-center text-3xl font-bold text-white md:text-4xl",children:"Azure API Management"}),e.jsxs("div",{className:"flex w-full gap-4",children:[e.jsx("div",{className:"flex flex-1 flex-col",children:x.map((t,a)=>{const b=a===x.length-1,f=s>a;return e.jsx(l,{children:f&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.35,ease:[.25,.46,.45,.94]},className:"flex gap-3 overflow-hidden",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(i.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.05},className:`flex h-7 w-7 shrink-0 items-center justify-center rounded-full text-xs font-bold ${t.bg} ${t.color} ${t.accent?"ring-2 ring-indigo-500/40":""}`,children:t.num}),!b&&s>a+1&&e.jsx(i.div,{initial:{height:0},animate:{height:"100%"},transition:{duration:.25},className:`w-px flex-1 ${t.indent?"bg-slate-700/60":"bg-slate-700/40"}`})]}),e.jsxs(i.div,{initial:{opacity:0,x:16},animate:{opacity:1,x:0},transition:{duration:.35,delay:.08},className:`mb-2 flex-1 rounded-xl border ${t.border} bg-slate-900/40 px-4 py-2.5 ${t.indent?"ml-2":""}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:t.color,children:t.icon}),e.jsx("span",{className:"text-sm font-semibold text-white",children:t.title})]}),t.items&&e.jsx("div",{className:"flex flex-col gap-0.5",children:t.items.map((g,y)=>e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15+y*.06},className:"flex items-center gap-2 text-xs text-slate-400",children:[e.jsx("span",{className:`h-1 w-1 shrink-0 rounded-full ${t.bg.replace("/10","/50")}`}),g]},y))}),t.cacheStep&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.12},className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"rounded bg-emerald-500/20 px-1.5 py-0.5 font-semibold text-emerald-400",children:"HIT"}),e.jsx(c,{size:10,className:"text-emerald-500"}),e.jsx("span",{className:"text-emerald-400",children:"Skip to Step 7 (fast path)"})]}),e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"rounded bg-amber-500/20 px-1.5 py-0.5 font-semibold text-amber-400",children:"MISS"}),e.jsx(A,{size:10,className:"text-amber-500"}),e.jsx("span",{className:"text-amber-400",children:"Continue to backend"})]})]}),t.backendStep&&e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.12},className:"flex items-center gap-2 text-xs text-slate-400",children:[e.jsx("span",{className:"rounded bg-cyan-500/20 px-1.5 py-0.5 font-mono text-[10px] font-bold text-cyan-400",children:"App Service"}),e.jsx(c,{size:10,className:"text-slate-600"}),e.jsx("span",{className:"rounded bg-blue-500/20 px-1.5 py-0.5 font-mono text-[10px] font-bold text-blue-400",children:"Azure SQL"})]}),e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"flex items-center gap-2 text-xs text-slate-400",children:[e.jsx("span",{className:"rounded bg-cyan-500/20 px-1.5 py-0.5 font-mono text-[10px] font-bold text-cyan-400",children:"Functions"}),e.jsx(c,{size:10,className:"text-slate-600"}),e.jsx("span",{className:"rounded bg-violet-500/20 px-1.5 py-0.5 font-mono text-[10px] font-bold text-violet-400",children:"Cosmos DB"})]})]})]})]})},t.num)})}),e.jsx(l,{children:u&&e.jsxs(i.div,{initial:{opacity:0,x:20,width:0},animate:{opacity:1,x:0,width:160},exit:{opacity:0,x:20,width:0},transition:{duration:.4,ease:"easeOut"},className:"hidden flex-col items-center rounded-xl border border-dashed border-pink-500/30 bg-pink-500/5 px-3 py-4 md:flex overflow-hidden",children:[e.jsx(z,{size:20,className:"mb-2 text-pink-400"}),e.jsx("span",{className:"mb-3 text-xs font-semibold text-pink-400 whitespace-nowrap",children:"App Insights"}),e.jsx("div",{className:"flex flex-1 flex-col justify-center gap-2",children:["Request tracing","Latency metrics","Error rates","Usage analytics"].map((t,a)=>e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15+a*.08},className:"flex items-center gap-1.5 text-[10px] text-pink-300/70 whitespace-nowrap",children:[e.jsx("span",{className:"h-1 w-1 shrink-0 rounded-full bg-pink-400/50"}),t]},t))}),e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"mt-2 text-center text-[9px] text-pink-400/40 whitespace-nowrap",children:"Monitors all steps"})]})})]}),e.jsx(l,{children:!o&&s===0&&e.jsxs(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.6},className:"mt-4 flex items-center gap-2 text-xs text-slate-600",children:["Press",e.jsx("kbd",{className:"rounded border border-slate-700 bg-slate-800 px-1.5 py-0.5 font-mono text-[10px] text-slate-400",children:"â†’"}),"to reveal each step"]})})]})})}export{D as default};
